
 锁  1.乐观锁(CAS) ; 2.悲观锁(Lock实现类/synchronized)
 阻塞 , 非阻塞(自旋锁/自适应自旋锁) , 自适应自旋锁就是JVM会综合来决定旋转的时间
 
 CAS : Compare And Swap , 比较与交换 , 无所算法 , 非阻塞,比如juc包,AtomicInteger
   三个参数:
     1.需要读写的内存值V
     2.进行进行比较的值A
     3.要写入的新值B
     当且仅当V==A时,CAS通过原子方式用新值B替换旧值A,一般而言,更新是一个不断重试的操作;(这个值应该有一个类似于版本的标志来区别是否因为一些操作(对象头中??),比如先+再-,虽然值没有变化,但是已经不一样了,ABA问题)
     
  
 自旋锁:
    自旋次数,默认为10 , 可以通过-XX:PreBlockSpin=次数修改
    -XX:+UseSpinning开启自旋锁, JDK1.6以后默认开启
 适应性自旋锁 : 根据前一次在同一个锁的自旋时间及锁的拥有者的状态来决定是否延长自旋等待的时间或者直接进入阻塞状态,避免cpu资源的浪费
 
 
  无锁 -> 偏向锁 -> 轻量级锁 -> 重量级锁 , 依次升级,不可降级
  这四种的是指锁的状态,专门针对synchronized,锁的标志存储在对象头
   对象头主要包括2部分数据 : Mark word (标记字段) , class pointer(类型指针)
   Mark Work : 存储对象的hashCode值,GC的年龄,锁的标志位信息.
   Klass Pointer : 对象指向它的类元数据的指针,虚拟机通过这个指针来确定这个对象是哪个类的实例
     
     
     
     
 
 